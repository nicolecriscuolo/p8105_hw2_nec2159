p8105_hw2_nec2159
================
Nicole Criscuolo
2025-09-23

## Problem 1

``` r
pols_df =
  read_csv("data/pols-month.csv") |> 
  relocate(mon, prez_gop, prez_dem) |> 
  separate(mon, into = c("year", "month", "day"), sep = "-") |> 
  mutate(month = month.name[as.numeric(month)]) |> 
  pivot_longer(
    cols = prez_gop:prez_dem,
    names_to = "president",
    values_to = "yes_no"
  )|> 
  filter(yes_no != 0) |> 
    mutate(president = case_match(
    president,
    "prez_dem" ~ "dem",
    "prez_gop" ~ "gop"), 
    year = as.numeric(year)
  ) |> 
  select(-day, -yes_no)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df = 
  read_csv("data/snp.csv") |> 
  separate(date, into = c("month", "day", "year"), sep = "/") |> 
  mutate(year = as.numeric(year), 
         year = if_else(year >= 50, year + 1900, year + 2000),
         month = as.numeric(month)) |> 
  arrange(year, month) |> 
  mutate(month = month.name[month]) |> 
  relocate(year) |> 
  select(-day) |> 
  rename (snp_close = close)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment_df =
  read_csv("data/unemployment.csv") |> 
  pivot_longer(
    cols = Jan:Dec,
    names_to = "month",
    values_to = "unemployment_percentage"
  ) |> 
  rename(year = Year) |> 
  mutate(month = case_match(
    month,
    "Jan" ~ "January",
    "Feb" ~ "February",
    "Mar" ~ "March",
    "Apr" ~ "April",
    "May" ~ "May",
    "Jun" ~ "June",
    "Jul" ~ "July",
    "Aug" ~ "August",
    "Sep" ~ "September",
    "Oct" ~ "October",
    "Nov" ~ "November",
    "Dec" ~ "December"),
    year = as.numeric(year))
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
joined_df = 
  full_join(pols_df, snp_df)
```

    ## Joining with `by = join_by(year, month)`

``` r
all_df = 
  full_join(joined_df, unemployment_df)
```

    ## Joining with `by = join_by(year, month)`

The first data set included information about the party affiliation of
national politicians. More specifically, it gave the number of
governors, senators, and representatives that belonged to each party as
well as the president’s affiliation on the 15th of each month from 1947
to 2015. The second data set included the closing values of the Standard
& Poor’s (S&P) stock market index at the beginning of any given month
from 1950 to 2015. The last data set showed the percentage of
unemployment during any given month from 1948 to 2015. After tidying and
joining all three of these data sets, the resulting data set shows the
unemployment percentage (`unemployment_percentage`), the closing S&P
stock index (`snp_close`), the party affiliation of the president
(`president`), and the number of governors, senators, and
representatives who belong to the republican party (`gov_gop`,
`sen_gop`, `rep_gop`) and the democratic party (`gov_dem`, `sen_dem`,
`rep_dem`). Each of these values are shown for during any given month
from 1947 to 2015. This data set includes 828 observations and 11
variables.

## Problem 2

``` r
mr_trash_df =
  read_excel("data/202409 Trash Wheel Collection Data.xlsx", 
            range = "A2:N655", 
            na = c("NA", ".", "")) |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(sports_balls = as.integer(round(sports_balls)),
         year = as.numeric(year),
         wheel = "mister")

# do i also need to separate date into month day year columns
```

``` r
prof_trash_df =
  read_excel("data/202409 Trash Wheel Collection Data.xlsx", 
             sheet = 2,
             range = "A2:M120", 
             na = c("NA", ".", "")) |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(year = as.numeric(year),
         wheel = "professor")
```

``` r
gwynnda_trash_df =
  read_excel("data/202409 Trash Wheel Collection Data.xlsx",
             sheet = 4,
             range = "A2:L266",
             na = c("NA", ".", "")) |> 
  janitor::clean_names() |> 
  drop_na(dumpster) |> 
  mutate(year= as.numeric(year),
         wheel = "gwynnda")
```

``` r
trash_df = 
  full_join(mr_trash_df, prof_trash_df)
```

    ## Joining with `by = join_by(dumpster, month, year, date, weight_tons,
    ## volume_cubic_yards, plastic_bottles, polystyrene, cigarette_butts,
    ## glass_bottles, plastic_bags, wrappers, homes_powered, wheel)`

``` r
full_trash_df =
  full_join(trash_df, gwynnda_trash_df) |> 
  relocate(wheel)
```

    ## Joining with `by = join_by(dumpster, month, year, date, weight_tons,
    ## volume_cubic_yards, plastic_bottles, polystyrene, cigarette_butts,
    ## plastic_bags, wrappers, homes_powered, wheel)`

Each of the three data sets described 1 of 3 different trash wheels:
Mr. Trash Wheel, Professor Trash Wheel, and Gwynnda Trash Wheel. They
all included information that described dumpster number, date, amount of
litter collected, type of litter collected, and number of homes powered
with collected litter Once these data sets are joined, the resulting
data set includes 1032 observations and 15 variables. It describes the
amount of litter collected, type of litter collected, and number of
homes powered (`homes_powered`) on certain dates from 2014 to 2024 for
each trash wheel (`wheel`). The variables describing amount of litter
include weight in tons (`weight_tons`) and volume in cubic yards
(`volume_cubic_yards`). The variables describing type of litter include
number of plastic bottles (`plastic_bottles`), polystyrene
(`polystyrene`), glass bottles (`glass_bottles`), plastic bags
(`plastic_bags`), wrappers (`wrappers`), and sports balls
(`sports_balls`).

The total weight collected by Professor Trash Wheel was 246.74 tons. The
total number of cigarette butts collected by Gwynnda in June of 2022 was
18120.

## Problem 3

``` r
zip_df =
  read_csv("data/Zip Codes.csv", na = c("NA", ".", "")) |> 
  janitor::clean_names() |> 
  select(-state_fips, -file_date, -county)
```

    ## Rows: 322 Columns: 7
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (4): County, County Code, File Date, Neighborhood
    ## dbl (3): State FIPS, County FIPS, ZipCode
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
zori_df =
  read_csv("data/Zip_zori_NYC.csv", na = c("NA", ".", "")) |> 
  pivot_longer(
    cols = "2015-01-31":"2024-08-31",
    names_to = "date",
    values_to = "zori"
  ) |> 
  janitor::clean_names() |> 
  rename(zip_code = region_name) |> 
  select(-region_type, -state_name, -state, -city, -metro)
```

    ## Rows: 149 Columns: 125
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr   (6): RegionType, StateName, State, City, Metro, CountyName
    ## dbl (119): RegionID, SizeRank, RegionName, 2015-01-31, 2015-02-28, 2015-03-3...
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
zip_zori_df =
  full_join(zip_df, zori_df) |>
  relocate(county_name, neighborhood)
```

    ## Joining with `by = join_by(zip_code)`

    ## Warning in full_join(zip_df, zori_df): Detected an unexpected many-to-many relationship between `x` and `y`.
    ## ℹ Row 1 of `x` matches multiple rows in `y`.
    ## ℹ Row 4757 of `y` matches multiple rows in `x`.
    ## ℹ If a many-to-many relationship is expected, set `relationship =
    ##   "many-to-many"` to silence this warning.

``` r
missing_zips_df =
  anti_join(zip_df, zori_df)
```

    ## Joining with `by = join_by(zip_code)`
